#Для реализации этой задачи мы создадим простое Java-приложение, использующее библиотеку telegrambots. Мы упакуем его в Docker-образ, используя multi-stage build (многоэтапную сборку). Это гарантирует, что все зависимости будут скачаны и собраны внутри Docker, а финальный образ будет содержать только необходимое для запуска.#

##▎Структура проекта##

Создайте папку для проекта и внутри нее следующую структуру файлов: 
telegram-bot-docker/
├── Dockerfile
├── pom.xml
└── src/
    └── main/
        └── java/
            └── com/
                └── example/
                    ├── Main.java
                    └── SimpleEchoBot.java

##▎1. Конфигурация Maven (pom.xml)##

Этот файл описывает зависимости. Мы используем библиотеку telegrambots и плагин maven-shade-plugin для создания "fat JAR" (исполняемого файла со всеми зависимостями внутри). 

##▎2. Логика бота (SimpleEchoBot.java)##

Этот класс наследуется от TelegramLongPollingBot. Он считывает конфигурацию из переменных окружения (что является лучшей практикой для Docker) и реализует эхо-логику: принимает сообщение и отправляет его обратно.
 
##▎3. Точка входа (Main.java)##

Инициализирует API и регистрирует бота. 

##▎4. Dockerfile##

Мы используем maven:3.8-eclipse-temurin-17 для сборки (чтобы не требовать Maven на хосте) и легкий образ eclipse-temurin:17-jre для запуска. 

##▎Инструкция по запуску##

1. Получите токен: Создайте бота через @BotFather в Telegram и скопируйте токен.
2. Соберите Docker-образ:
    Откройте терминал в папке с Dockerfile и выполните: 
        docker build -t java-telegram-bot .
    
3. Запустите контейнер:
    Вам нужно передать токен и имя бота через флаг -e (переменные окружения).
    
    Замените ВАШ_ТОКЕН на реальный токен, а ИМЯ_БОТА на имя без @. 
        docker run -d 
      --name my-bot 
      -e BOT_TOKEN="ВАШ_ТОКЕН" 
      -e BOT_USERNAME="ИМЯ_БОТА" 
      java-telegram-bot
    
    
##▎Как это работает:##

1. Сборка: Docker скачивает Maven, все зависимости, указанные в pom.xml, компилирует код и создает один большой файл app.jar.
2. Запуск: Docker запускает легкую версию Linux с Java, берет этот файл и выполняет его.
3. Код:
    – TelegramBotsApi создает сессию для Long Polling (длинные опросы).
    – Бот подключается к серверам Telegram и ждет обновлений.
    – Когда вы пишете боту, метод onUpdateReceived получает объект Update.
    – Метод execute отправляет ответ обратно пользователю.
